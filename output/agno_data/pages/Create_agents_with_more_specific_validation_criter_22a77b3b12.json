{
  "title": "Create agents with more specific validation criteria",
  "content": "data_validator = Agent(\n    name=\"Data Validator\",\n    model=OpenAIChat(id=\"gpt-5-mini\"),\n    instructions=[\n        \"You are a data validator. Analyze the provided data and determine if it's valid.\",\n        \"For data to be VALID, it must meet these criteria:\",\n        \"- user_count: Must be a positive number (> 0)\",\n        \"- revenue: Must be a positive number (> 0)\",\n        \"- date: Must be in a reasonable date format (YYYY-MM-DD)\",\n        \"\",\n        \"Return exactly 'VALID' if all criteria are met.\",\n        \"Return exactly 'INVALID' if any criteria fail.\",\n        \"Also briefly explain your reasoning.\",\n    ],\n)\n\ndata_processor = Agent(\n    name=\"Data Processor\",\n    model=OpenAIChat(id=\"gpt-5-mini\"),\n    instructions=\"Process and transform the validated data.\",\n)\n\nreport_generator = Agent(\n    name=\"Report Generator\",\n    model=OpenAIChat(id=\"gpt-5-mini\"),\n    instructions=\"Generate a final report from processed data.\",\n)\n\ndef early_exit_validator(step_input: StepInput) -> StepOutput:\n    \"\"\"\n    Custom function that checks data quality and stops workflow early if invalid\n    \"\"\"\n    # Get the validation result from previous step\n    validation_result = step_input.previous_step_content or \"\"\n\nif \"INVALID\" in validation_result.upper():\n        return StepOutput(\n            content=\"❌ Data validation failed. Workflow stopped early to prevent processing invalid data.\",\n            stop=True,  # Stop the entire workflow here\n        )\n    else:\n        return StepOutput(\n            content=\"✅ Data validation passed. Continuing with processing...\",\n            stop=False,  # Continue normally\n        )",
  "code_samples": [],
  "headings": [],
  "url": "llms-txt#create-agents-with-more-specific-validation-criteria",
  "links": []
}