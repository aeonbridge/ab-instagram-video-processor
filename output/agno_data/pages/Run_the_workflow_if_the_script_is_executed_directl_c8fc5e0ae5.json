{
  "title": "Run the workflow if the script is executed directly",
  "content": "if __name__ == \"__main__\":\n    import random\n\nfrom rich.prompt import Prompt\n\n# Fun example prompts to showcase the generator's versatility\n    example_prompts = [\n        \"Why Cats Secretly Run the Internet\",\n        \"The Science Behind Why Pizza Tastes Better at 2 AM\",\n        \"Time Travelers' Guide to Modern Social Media\",\n        \"How Rubber Ducks Revolutionized Software Development\",\n        \"The Secret Society of Office Plants: A Survival Guide\",\n        \"Why Dogs Think We're Bad at Smelling Things\",\n        \"The Underground Economy of Coffee Shop WiFi Passwords\",\n        \"A Historical Analysis of Dad Jokes Through the Ages\",\n    ]\n\n# Get topic from user\n    topic = Prompt.ask(\n        \"[bold]Enter a blog post topic[/bold] (or press Enter for a random example)\\nâœ¨\",\n        default=random.choice(example_prompts),\n    )\n\n# Convert the topic to a URL-safe string for use in session_id\n    url_safe_topic = topic.lower().replace(\" \", \"-\")\n\n# Initialize the blog post generator workflow\n    # - Creates a unique session ID based on the topic\n    # - Sets up SQLite storage for caching results\n    generate_blog_post = BlogPostGenerator(\n        session_id=f\"generate-blog-post-on-{url_safe_topic}\",\n        db=SqliteDb(\n            db_file=\"tmp/agno_workflows.db\",\n        ),\n        debug_mode=True,\n    )\n\n# Execute the workflow with caching enabled\n    # Returns an iterator of RunOutput objects containing the generated content\n    blog_post: Iterator[RunOutputEvent] = generate_blog_post.run(\n        topic=topic,\n        use_search_cache=True,\n        use_scrape_cache=True,\n        use_cached_report=True,\n    )\n\n# Print the response\n    pprint_run_response(blog_post, markdown=True)\npython  theme={null}\nimport asyncio\nimport json\nfrom textwrap import dedent\nfrom typing import Dict, Optional\n\nfrom agno.agent import Agent\nfrom agno.db.sqlite import SqliteDb\nfrom agno.models.openai import OpenAIChat\nfrom agno.tools.duckduckgo import DuckDuckGoTools\nfrom agno.tools.newspaper4k import Newspaper4kTools\nfrom agno.utils.log import logger\nfrom agno.utils.pprint import pprint_run_response\nfrom agno.workflow.workflow import Workflow\nfrom pydantic import BaseModel, Field",
  "code_samples": [
    {
      "code": "To convert this into **Workflows 2.0** structure, either we can break down the workflow into smaller steps and follow the [development guide](/basics/workflows/workflow-patterns/overview).\nOr for simplicity we can directly replace the run method to a single custom function executor as mentioned [here](/basics/workflows/workflow-patterns/fully-python-workflow).\n\nIt will look like this:",
      "language": "unknown"
    }
  ],
  "headings": [],
  "url": "llms-txt#run-the-workflow-if-the-script-is-executed-directly",
  "links": []
}