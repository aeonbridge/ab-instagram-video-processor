{
  "title": "Chat History in Teams",
  "content": "Source: https://docs.agno.com/basics/chat-history/team/overview\n\nLearn about Team session history and managing conversation history.\n\nTeams with storage enabled automatically have access to the run history of the session (also called the \"conversation history\" or \"chat history\").\n\nWe can give the Team access to the chat history in the following ways:\n\n**Team-Level History**:\n\n* You can set `add_history_to_context=True` and `num_history_runs=5` to add the inputs and responses from the last 5 runs automatically to every request sent to the team leader.\n* You can be more granular about how many messages to add to include in the list sent to the model, by setting `num_history_messages`.\n* You can set `read_chat_history=True` to provide a `get_chat_history()` tool to your team allowing it to read any message in the entire chat history.\n* You can set `read_tool_call_history=True` to provide a `get_tool_call_history()` tool to your team allowing it to read tool calls in reverse chronological order.\n* You can enable `search_session_history` to allow searching through previous sessions.\n* You can set `add_team_history_to_members=True` and `num_team_history_runs=5` to add the inputs and responses from the last 5 runs (that is the team-level inputs and responses) automatically to every message sent to the team members.\n\n**Member-Level History**:\n\n* You can also enable `add_history_to_context` for individual team members. This will only add the inputs and outputs for that member to all requests sent to that member, giving it access to its own history.\n\n<Tip>\n  Working with team history can be tricky. Experiment with the above settings to find the best fit for your use case.\n  See the [History Reference](#history-reference) for help on how to use the different history features.\n</Tip>\n\n<Tabs>\n  <Tab title=\"Simple History\">\n    Start with **Team History in Context** for basic conversation continuity:\n\n<Tab title=\"Member Coordination\">\n    Use **Team History to Members** for shared context:\n\n<Tab title=\"Share Interaction Information\">\n    Share **Member Interactions** during a run:\n\n<Tab title=\"Long Conversations\">\n    Add **Chat History Tool** when agents need to search history:\n\n<Tab title=\"Multi-Session Memory\">\n    Enable **Multi-Session Search** for cross-session continuity:\n\n<Note>\n  **Database Requirement**: All history features require a database configured on the team. See [Database](/basics/database/overview) for setup.\n</Note>\n\n<Tip>\n  **Performance Tip**: More history = larger context = slower and costlier requests. Start with `num_history_runs=3` and increase only if needed.\n</Tip>\n\n## Add history to the team context\n\nTo add the history of the conversation to the context, you can set `add_history_to_context=True`.\nThis will add the inputs and responses from the last 3 runs (that is the default) to the context of the team leader.\nYou can change the number of runs by setting `num_history_runs=n` where `n` is the number of runs to include.\n\nSee the [Direct Response with Team History](/basics/chat-history/team/usage/respond-directly-with-history) example for a complete implementation.\n\n## Send team history to members\n\nTo send the team history to the members, you can set `add_team_history_to_members=True`.\nThis will send the inputs and responses from the last 3 team-level runs (that is the default) to the members when tasks are delegated to them.\nYou can change the number of runs by setting `num_team_history_runs=n` where `n` is the number of runs to include.\n\nWhen enabled, team history is appended to the task sent to a team member in this format:\n\nThis allows members to access information from previous interactions with other team members.\n\nSee the [Team History for Members](/basics/chat-history/team/usage/team-history) example for a complete implementation.\n\n## Share member interactions with other members\n\nAll interactions with team members are automatically recorded, including the member name, the task given to the member, and the response from the member.\n\n<Note>\n  This feature is only available during a single run - it shares interactions that happen within the current execution.\n</Note>\n\nIf you want members to have access to all interactions that has happened during the current run, you can set `share_member_interactions=True`.\n\nWhen enabled, interaction details are appended to the task sent to a team member in this format:\n\nSee the [Share Member Interactions](/basics/chat-history/team/usage/share-member-interactions) example for a complete implementation.\n\n## Read the chat history\n\nTo read the chat history, you can set `read_chat_history=True`.\nThis will provide a `get_chat_history()` tool to your team allowing it to read any message in the entire chat history.\n\n## Search the session history\n\nIn some scenarios, you might want to fetch messages from across multiple sessions to provide context or continuity in conversations.\n\nTo enable fetching messages from the last N sessions, you need to use the following flags:\n\n* `search_session_history`: Set this to `True` to allow searching through previous sessions.\n* `num_history_sessions`: Specify the number of past sessions to include in the search.\n\n<Tip>\n  Keep `num_history_sessions` low (2 or 3) to avoid filling up the context length of the model, which can lead to performance issues.\n</Tip>\n\n## Developer Resources\n\n<CardGroup cols={2}>\n  <Card title=\"Direct Response with History\" icon=\"reply\" iconType=\"duotone\" href=\"/basics/chat-history/team/usage/respond-directly-with-history\">\n    Team leader routes requests with access to conversation history.\n  </Card>\n\n<Card title=\"Team History for Members\" icon=\"share-nodes\" iconType=\"duotone\" href=\"/basics/chat-history/team/usage/team-history\">\n    Members access shared team history from previous interactions.\n  </Card>\n\n<Card title=\"Member-Level History\" icon=\"user-check\" iconType=\"duotone\" href=\"/basics/chat-history/team/usage/history-of-members\">\n    Each member maintains its own isolated conversation history.\n  </Card>\n\n<Card title=\"Share Member Interactions\" icon=\"comments\" iconType=\"duotone\" href=\"/basics/chat-history/team/usage/share-member-interactions\">\n    Share member interactions during the current run to avoid duplicate work.\n  </Card>\n</CardGroup>",
  "code_samples": [
    {
      "code": "</Tab>\n\n  <Tab title=\"Member Coordination\">\n    Use **Team History to Members** for shared context:",
      "language": "unknown"
    },
    {
      "code": "</Tab>\n\n  <Tab title=\"Share Interaction Information\">\n    Share **Member Interactions** during a run:",
      "language": "unknown"
    },
    {
      "code": "</Tab>\n\n  <Tab title=\"Long Conversations\">\n    Add **Chat History Tool** when agents need to search history:",
      "language": "unknown"
    },
    {
      "code": "</Tab>\n\n  <Tab title=\"Multi-Session Memory\">\n    Enable **Multi-Session Search** for cross-session continuity:",
      "language": "unknown"
    },
    {
      "code": "</Tab>\n</Tabs>\n\n<Note>\n  **Database Requirement**: All history features require a database configured on the team. See [Database](/basics/database/overview) for setup.\n</Note>\n\n<Tip>\n  **Performance Tip**: More history = larger context = slower and costlier requests. Start with `num_history_runs=3` and increase only if needed.\n</Tip>\n\n## Add history to the team context\n\nTo add the history of the conversation to the context, you can set `add_history_to_context=True`.\nThis will add the inputs and responses from the last 3 runs (that is the default) to the context of the team leader.\nYou can change the number of runs by setting `num_history_runs=n` where `n` is the number of runs to include.\n\nSee the [Direct Response with Team History](/basics/chat-history/team/usage/respond-directly-with-history) example for a complete implementation.\n\n## Send team history to members\n\nTo send the team history to the members, you can set `add_team_history_to_members=True`.\nThis will send the inputs and responses from the last 3 team-level runs (that is the default) to the members when tasks are delegated to them.\nYou can change the number of runs by setting `num_team_history_runs=n` where `n` is the number of runs to include.\n\nWhen enabled, team history is appended to the task sent to a team member in this format:",
      "language": "unknown"
    },
    {
      "code": "This allows members to access information from previous interactions with other team members.\n\nSee the [Team History for Members](/basics/chat-history/team/usage/team-history) example for a complete implementation.\n\n## Share member interactions with other members\n\nAll interactions with team members are automatically recorded, including the member name, the task given to the member, and the response from the member.\n\n<Note>\n  This feature is only available during a single run - it shares interactions that happen within the current execution.\n</Note>\n\nIf you want members to have access to all interactions that has happened during the current run, you can set `share_member_interactions=True`.\n\nWhen enabled, interaction details are appended to the task sent to a team member in this format:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "History Reference",
      "id": "history-reference"
    },
    {
      "level": "h2",
      "text": "Add history to the team context",
      "id": "add-history-to-the-team-context"
    },
    {
      "level": "h2",
      "text": "Send team history to members",
      "id": "send-team-history-to-members"
    },
    {
      "level": "h2",
      "text": "Share member interactions with other members",
      "id": "share-member-interactions-with-other-members"
    },
    {
      "level": "h2",
      "text": "Read the chat history",
      "id": "read-the-chat-history"
    },
    {
      "level": "h2",
      "text": "Search the session history",
      "id": "search-the-session-history"
    },
    {
      "level": "h2",
      "text": "Developer Resources",
      "id": "developer-resources"
    }
  ],
  "url": "llms-txt#chat-history-in-teams",
  "links": []
}