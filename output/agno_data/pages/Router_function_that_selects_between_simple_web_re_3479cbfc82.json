{
  "title": "Router function that selects between simple web research or deep tech research loop",
  "content": "def research_strategy_router(step_input: StepInput) -> List[Step]:\n    \"\"\"\n    Decide between simple web research or deep tech research loop based on the input topic.\n    Returns either a single web research step or a tech research loop.\n    \"\"\"\n    # Use the original workflow message if this is the first step\n    topic = step_input.previous_step_content or step_input.input or \"\"\n    topic = topic.lower()\n\n# Check if the topic requires deep tech research\n    deep_tech_keywords = [\n        \"startup trends\",\n        \"ai developments\",\n        \"machine learning research\",\n        \"programming languages\",\n        \"developer tools\",\n        \"silicon valley\",\n        \"venture capital\",\n        \"cryptocurrency analysis\",\n        \"blockchain technology\",\n        \"open source projects\",\n        \"github trends\",\n        \"tech industry\",\n        \"software engineering\",\n    ]\n\n# Check if it's a complex tech topic that needs deep research\n    if any(keyword in topic for keyword in deep_tech_keywords) or (\n        \"tech\" in topic and len(topic.split()) > 3\n    ):\n        print(\n            f\"üî¨ Deep tech topic detected: Using iterative research loop for '{topic}'\"\n        )\n        return [deep_tech_research_loop]\n    else:\n        print(f\"üåê Simple topic detected: Using basic web research for '{topic}'\")\n        return [research_web]\n\nworkflow = Workflow(\n    name=\"Adaptive Research Workflow\",\n    description=\"Intelligently selects between simple web research or deep iterative tech research based on topic complexity\",\n    steps=[\n        Router(\n            name=\"research_strategy_router\",\n            selector=research_strategy_router,\n            choices=[research_web, deep_tech_research_loop],\n            description=\"Chooses between simple web research or deep tech research loop\",\n        ),\n        publish_content,\n    ],\n)\n\nif __name__ == \"__main__\":\n    print(\"=== Testing with deep tech topic ===\")\n    workflow.print_response(\n        \"Latest developments in artificial intelligence and machine learning and deep tech research trends\"\n    )\n```\n\nTo checkout async version, see the cookbook-\n\n* [Router with Loop Steps Workflow (async)](https://github.com/agno-agi/agno/tree/main/cookbook/workflows/_05_workflows_conditional_branching/async/router_with_loop_steps.py)",
  "code_samples": [],
  "headings": [],
  "url": "llms-txt#router-function-that-selects-between-simple-web-research-or-deep-tech-research-loop",
  "links": []
}