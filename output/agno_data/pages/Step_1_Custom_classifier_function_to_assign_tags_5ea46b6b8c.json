{
  "title": "Step 1: Custom classifier function to assign tags",
  "content": "def classify_query(step_input: StepInput) -> StepOutput:\n    \"\"\"\n    Classify the user query into one of the predefined tags.\n\nAvailable tags: travel, tech, general-blogs, fashion, documents\n    \"\"\"\n    # Get the user query from step_input\n    query = step_input.input\n\n# Create an agent to classify the query\n    classifier_agent = Agent(\n        model=OpenAIChat(id=\"gpt-4o-mini\"),\n        instructions=[\n            \"You are a query classifier.\",\n            \"Classify the given query into ONE of these tags: travel, tech, general-blogs, fashion, documents\",\n            \"Only respond with the tag name, nothing else.\",\n            \"Classification rules:\",\n            \"- travel: Anything related to destinations, tours, trips, locations, hotels, travel guides, places to visit\",\n            \"- tech: Programming, software, AI, machine learning, coding, development, technology topics\",\n            \"- fashion: Clothing, style, trends, outfits, fashion industry\",\n            \"- documents: Resumes, CVs, reports, official documents, contracts\",\n            \"- general-blogs: Personal thoughts, opinions, life advice, miscellaneous content\",\n            \"\",\n            \"Examples:\",\n            \"- 'Best places to visit in Italy' -> travel\",\n            \"- 'Ha Giang loop tour Vietnam guide' -> travel\",\n            \"- 'Add travel guide website link' -> travel\",\n            \"- 'How to build a React app' -> tech\",\n            \"- 'The rise of AI and machine learning' -> tech\",\n            \"- 'Fashion trends 2025' -> fashion\",\n            \"- 'My resume and CV' -> documents\",\n            \"- 'Random thoughts about life' -> general-blogs\",\n        ],\n    )\n\n# Get classification\n    response = classifier_agent.run(query)\n    tag = response.content.strip().lower()\n\n# Validate the tag\n    valid_tags = [\"travel\", \"tech\", \"general-blogs\", \"fashion\", \"documents\"]\n    if tag not in valid_tags:\n        tag = \"general-blogs\"  # Default fallback\n\n# Return structured data using Pydantic model\n    result = ClassificationResult(\n        query=str(query), tag=tag, message=f\"Query classified as: {tag}\"\n    )\n\nreturn StepOutput(content=result)",
  "code_samples": [],
  "headings": [],
  "url": "llms-txt#step-1:-custom-classifier-function-to-assign-tags",
  "links": []
}